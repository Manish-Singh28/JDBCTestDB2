<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"	xmlns:h="http://xmlns.jcp.org/jsf/html"	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head/>
<h:body>

	<h1><h:outputText value="#{labels._emplist}" /></h1>

	<h:form id="frm">

		<!--  Searches by last name -->
		<table><tr>
			<td><h:inputText id="inputSearchTxt" value="#{empListBean.lastName}" /></td>
			<td><h:commandButton value="#{labels._lnsearch}" action="#{empListBean.search}" /></td>
			<!--  TODO REPLACE THIS MESSAGE WITH MY OWN MECHANISM -->
			<td><h:outputText style="color: red;" value="#{empListBean.message}" /></td>
		</tr></table>

		<h:dataTable id="tbl" var="emp" value="#{empListBean.allResults}" rows="#{empListBean.lastRow}" first="#{empListBean.firstRow}"
			rendered="#{not empty empListBean.allResults}" border="1"	cellpadding="5">
			
			<h:column><f:facet name="header">Employee Number</f:facet>#{emp.empno}</h:column>
			<h:column><f:facet name="header">First Name</f:facet>#{emp.firstname}</h:column>
			<h:column><f:facet name="header">Last Name</f:facet>#{emp.lastname}</h:column>
			<h:column><f:facet name="header">Gender</f:facet>#{emp.sex}</h:column>
			<h:column><f:facet name="header">Phone Number</f:facet>#{emp.phoneno}</h:column>
			<h:column><f:facet name="header">Job Title</f:facet>#{emp.job}</h:column>			
			<!-- h:column><f:facet name="header">Department Name</f:facet>
				<h:outputText value="#{emp.department.deptname}" rendered="#{emp.department ne null and emp.department.deptname ne null}" />
			</h:column-->
		</h:dataTable>
<!-- 
		<table><tr>
			<td><h:commandButton value="#{labels._pgup}" action="#{employeeCrud.pageUp}" /></td>
			<td><h:commandButton value="#{labels._newemp}" action="#{employeeCrud.newEmp}" /></td>
			<td><h:commandButton value="#{labels._pgdown}" action="#{employeeCrud.pageDown}" /></td>
		</tr></table>
-->
	</h:form>

</h:body>
</html>
